/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _utm_pays = __webpack_require__(1);

var _button_dropdown = __webpack_require__(2);

(0, _utm_pays.set_button_handler)();
(0, _utm_pays.set_left_menu_handler)();
(0, _button_dropdown.set_button_dropdown_menu)();

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.set_button_handler = set_button_handler;
exports.set_left_menu_handler = set_left_menu_handler;
function disable_td(button, td_class, button_text) {
  button.classList.remove('button--enable');

  var td_balance_items = document.getElementsByClassName(td_class);
  var _iteratorNormalCompletion = true;
  var _didIteratorError = false;
  var _iteratorError = undefined;

  try {
    for (var _iterator = td_balance_items[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
      var td_balance_item = _step.value;

      td_balance_item.classList.add('td_disable');
    }
  } catch (err) {
    _didIteratorError = true;
    _iteratorError = err;
  } finally {
    try {
      if (!_iteratorNormalCompletion && _iterator.return) {
        _iterator.return();
      }
    } finally {
      if (_didIteratorError) {
        throw _iteratorError;
      }
    }
  }
}

function enable_td(button, td_class, button_text) {
  button.classList.add('button--enable');

  var td_balance_items = document.getElementsByClassName(td_class);
  var _iteratorNormalCompletion2 = true;
  var _didIteratorError2 = false;
  var _iteratorError2 = undefined;

  try {
    for (var _iterator2 = td_balance_items[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
      var td_balance_item = _step2.value;

      td_balance_item.classList.remove('td_disable');
    }
  } catch (err) {
    _didIteratorError2 = true;
    _iteratorError2 = err;
  } finally {
    try {
      if (!_iteratorNormalCompletion2 && _iterator2.return) {
        _iterator2.return();
      }
    } finally {
      if (_didIteratorError2) {
        throw _iteratorError2;
      }
    }
  }
}

function switch_td() {
  if (this.button.classList.contains('button--enable') === false) {
    enable_td(this.button, this.td_class, this.button_text);
  } else {
    disable_td(this.button, this.td_class, this.button_text);
  }
}

function disable_main_block(item_control, item_class) {
  var menu_sidebar_items = document.getElementsByClassName('buttons-control__item');
  console.log(menu_sidebar_items);
  var _iteratorNormalCompletion3 = true;
  var _didIteratorError3 = false;
  var _iteratorError3 = undefined;

  try {
    for (var _iterator3 = menu_sidebar_items[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
      var menu_sidebar_item = _step3.value;

      menu_sidebar_item.classList.remove('buttons-control__item--enable');
    }
  } catch (err) {
    _didIteratorError3 = true;
    _iteratorError3 = err;
  } finally {
    try {
      if (!_iteratorNormalCompletion3 && _iterator3.return) {
        _iterator3.return();
      }
    } finally {
      if (_didIteratorError3) {
        throw _iteratorError3;
      }
    }
  }

  console.log(item_control);
  item_control.classList.add('buttons-control__item--enable');
  var main_items = document.getElementsByClassName('main_item');
  var _iteratorNormalCompletion4 = true;
  var _didIteratorError4 = false;
  var _iteratorError4 = undefined;

  try {
    for (var _iterator4 = main_items[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {
      var main_item = _step4.value;

      main_item.classList.add('main__block--disable');
    }
  } catch (err) {
    _didIteratorError4 = true;
    _iteratorError4 = err;
  } finally {
    try {
      if (!_iteratorNormalCompletion4 && _iterator4.return) {
        _iterator4.return();
      }
    } finally {
      if (_didIteratorError4) {
        throw _iteratorError4;
      }
    }
  }

  var main_item_show = document.getElementsByClassName(item_class);
  if (main_item_show.length > 0) {
    main_item_show[0].classList.remove('main__block--disable');
  }
}

function switch_main_block() {
  if (this.item_control.classList.contains('buttons-control__item--enable') === false) {
    disable_main_block(this.item_control, this.item_class);
  }
}

function set_button_handler() {
  // button-balance
  var button_balance = document.getElementsByClassName('button-balance');
  if (button_balance.length > 0) {
    button_balance[0].addEventListener('click', {
      handleEvent: switch_td,
      button: button_balance[0],
      td_class: 'td-balance'
    });
  }

  // button-arpu
  var button_arpu = document.getElementsByClassName('button-arpu');
  if (button_arpu.length > 0) {
    button_arpu[0].addEventListener('click', {
      handleEvent: switch_td,
      button: button_arpu[0],
      td_class: 'td-arpu'
    });
  }

  // button-active-user
  var button_active_user = document.getElementsByClassName('button-active-user');
  if (button_active_user.length > 0) {
    button_active_user[0].addEventListener('click', {
      handleEvent: switch_td,
      button: button_active_user[0],
      td_class: 'td-active-user'
    });
  }

  // button-avg-balance-active
  var button_avg_balance_active = document.getElementsByClassName('button-avg-balance-active');
  if (button_avg_balance_active.length > 0) {
    button_avg_balance_active[0].addEventListener('click', {
      handleEvent: switch_td,
      button: button_avg_balance_active[0],
      td_class: 'td-avg-balance-active'
    });
  }
  // button-avg-balance-all
  var button_avg_balance_all = document.getElementsByClassName('button-avg-balance-all');
  if (button_avg_balance_all.length > 0) {
    button_avg_balance_all[0].addEventListener('click', {
      handleEvent: switch_td,
      button: button_avg_balance_all[0],
      td_class: 'td-avg-balance-all'
    });
  }
}

function set_left_menu_handler() {
  // show-table
  var main_show_table = document.getElementsByClassName('show-table');
  if (main_show_table.length > 0) {
    main_show_table[0].addEventListener('click', {
      handleEvent: switch_main_block,
      item_control: main_show_table[0],
      item_class: 'main__table'
    });
  }

  var show_graph_pays = document.getElementsByClassName('show-graph-pays');
  if (show_graph_pays.length > 0) {
    show_graph_pays[0].addEventListener('click', {
      handleEvent: switch_main_block,
      item_control: show_graph_pays[0],
      item_class: 'main__graph-pays'
    });
  }

  var show_graph_count_pays = document.getElementsByClassName('show-graph-count-pays');
  if (show_graph_count_pays.length > 0) {
    show_graph_count_pays[0].addEventListener('click', {
      handleEvent: switch_main_block,
      item_control: show_graph_count_pays[0],
      item_class: 'main__graph-count-pays'
    });
  }

  var show_graph_balance = document.getElementsByClassName('show-graph-balance');
  if (show_graph_balance.length > 0) {
    show_graph_balance[0].addEventListener('click', {
      handleEvent: switch_main_block,
      item_control: show_graph_balance[0],
      item_class: 'main__graph-balance'
    });
  }
}

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
function show_dropdown_menu() {
  var dropdown_menu = this.getElementsByClassName('button-dropdown__menu');
  if (dropdown_menu.length === 0) {
    return null;
  }
  dropdown_menu[0].classList.remove('dropdown--uncollapse');
}

function hide_dropdown_menu() {
  var dropdown_menu = this.getElementsByClassName('button-dropdown__menu');
  if (dropdown_menu.length === 0) {
    return null;
  }
  dropdown_menu[0].classList.add('dropdown--uncollapse');
}

var set_button_dropdown_menu = exports.set_button_dropdown_menu = function set_button_dropdown_menu() {
  var dropdown_menus = document.getElementsByClassName('button-dropdown');
  if (dropdown_menus.length > 0) {
    var _iteratorNormalCompletion = true;
    var _didIteratorError = false;
    var _iteratorError = undefined;

    try {
      for (var _iterator = dropdown_menus[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var dropdown_menu = _step.value;

        dropdown_menu.addEventListener('mouseover', show_dropdown_menu.bind(dropdown_menu));
        dropdown_menu.addEventListener('mouseout', hide_dropdown_menu.bind(dropdown_menu));
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }
  }
};

/***/ })
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgNTQwYjc0MTQ4ZDAwMjk2MmE5MTciLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy91dG1fcGF5cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYnV0dG9uX2Ryb3Bkb3duLmpzIl0sIm5hbWVzIjpbInNldF9idXR0b25faGFuZGxlciIsInNldF9sZWZ0X21lbnVfaGFuZGxlciIsImRpc2FibGVfdGQiLCJidXR0b24iLCJ0ZF9jbGFzcyIsImJ1dHRvbl90ZXh0IiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwidGRfYmFsYW5jZV9pdGVtcyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsInRkX2JhbGFuY2VfaXRlbSIsImFkZCIsImVuYWJsZV90ZCIsInN3aXRjaF90ZCIsImNvbnRhaW5zIiwiZGlzYWJsZV9tYWluX2Jsb2NrIiwiaXRlbV9jb250cm9sIiwiaXRlbV9jbGFzcyIsIm1lbnVfc2lkZWJhcl9pdGVtcyIsImNvbnNvbGUiLCJsb2ciLCJtZW51X3NpZGViYXJfaXRlbSIsIm1haW5faXRlbXMiLCJtYWluX2l0ZW0iLCJtYWluX2l0ZW1fc2hvdyIsImxlbmd0aCIsInN3aXRjaF9tYWluX2Jsb2NrIiwiYnV0dG9uX2JhbGFuY2UiLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlRXZlbnQiLCJidXR0b25fYXJwdSIsImJ1dHRvbl9hY3RpdmVfdXNlciIsImJ1dHRvbl9hdmdfYmFsYW5jZV9hY3RpdmUiLCJidXR0b25fYXZnX2JhbGFuY2VfYWxsIiwibWFpbl9zaG93X3RhYmxlIiwic2hvd19ncmFwaF9wYXlzIiwic2hvd19ncmFwaF9jb3VudF9wYXlzIiwic2hvd19ncmFwaF9iYWxhbmNlIiwic2hvd19kcm9wZG93bl9tZW51IiwiZHJvcGRvd25fbWVudSIsImhpZGVfZHJvcGRvd25fbWVudSIsInNldF9idXR0b25fZHJvcGRvd25fbWVudSIsImRyb3Bkb3du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dCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCA1NDBiNzQxNDhkMDAyOTYyYTkxNyIsImltcG9ydCB7c2V0X2J1dHRvbl9oYW5kbGVyLCBzZXRfbGVmdF9tZW51X2hhbmRsZXJ9IGZyb20gJy4vdXRtX3BheXMnO1xuaW1wb3J0IHtzZXRfYnV0dG9uX2Ryb3Bkb3duX21lbnV9IGZyb20gJy4vYnV0dG9uX2Ryb3Bkb3duJztcblxuc2V0X2J1dHRvbl9oYW5kbGVyKCk7XG5zZXRfbGVmdF9tZW51X2hhbmRsZXIoKTtcbnNldF9idXR0b25fZHJvcGRvd25fbWVudSgpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2luZGV4LmpzIiwiZnVuY3Rpb24gZGlzYWJsZV90ZChidXR0b24sIHRkX2NsYXNzLCBidXR0b25fdGV4dCkge1xuICBidXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLS1lbmFibGUnKTtcblxuICBsZXQgdGRfYmFsYW5jZV9pdGVtcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUodGRfY2xhc3MpO1xuICBmb3IgKGxldCB0ZF9iYWxhbmNlX2l0ZW0gb2YgdGRfYmFsYW5jZV9pdGVtcykge1xuICAgIHRkX2JhbGFuY2VfaXRlbS5jbGFzc0xpc3QuYWRkKCd0ZF9kaXNhYmxlJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZW5hYmxlX3RkKGJ1dHRvbiwgdGRfY2xhc3MsIGJ1dHRvbl90ZXh0KSB7XG4gIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdidXR0b24tLWVuYWJsZScpO1xuXG4gIGxldCB0ZF9iYWxhbmNlX2l0ZW1zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSh0ZF9jbGFzcyk7XG4gIGZvciAobGV0IHRkX2JhbGFuY2VfaXRlbSBvZiB0ZF9iYWxhbmNlX2l0ZW1zKSB7XG4gICAgdGRfYmFsYW5jZV9pdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3RkX2Rpc2FibGUnKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzd2l0Y2hfdGQoKSB7XG4gIGlmICh0aGlzLmJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2J1dHRvbi0tZW5hYmxlJyk9PT1mYWxzZSkge1xuICAgIGVuYWJsZV90ZCh0aGlzLmJ1dHRvbiwgdGhpcy50ZF9jbGFzcywgdGhpcy5idXR0b25fdGV4dClcbiAgfVxuICBlbHNlIHtcbiAgICBkaXNhYmxlX3RkKHRoaXMuYnV0dG9uLCB0aGlzLnRkX2NsYXNzLCB0aGlzLmJ1dHRvbl90ZXh0KVxuICB9XG59XG5cbmZ1bmN0aW9uIGRpc2FibGVfbWFpbl9ibG9jayhpdGVtX2NvbnRyb2wsIGl0ZW1fY2xhc3MpIHtcbiAgbGV0IG1lbnVfc2lkZWJhcl9pdGVtcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2J1dHRvbnMtY29udHJvbF9faXRlbScpO1xuICBjb25zb2xlLmxvZyhtZW51X3NpZGViYXJfaXRlbXMpO1xuICBmb3IgKGxldCBtZW51X3NpZGViYXJfaXRlbSBvZiBtZW51X3NpZGViYXJfaXRlbXMpIHtcbiAgICBtZW51X3NpZGViYXJfaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b25zLWNvbnRyb2xfX2l0ZW0tLWVuYWJsZScpO1xuICB9XG4gIGNvbnNvbGUubG9nKGl0ZW1fY29udHJvbCk7XG4gIGl0ZW1fY29udHJvbC5jbGFzc0xpc3QuYWRkKCdidXR0b25zLWNvbnRyb2xfX2l0ZW0tLWVuYWJsZScpO1xuICBsZXQgbWFpbl9pdGVtcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ21haW5faXRlbScpO1xuICBmb3IgKGxldCBtYWluX2l0ZW0gb2YgbWFpbl9pdGVtcykge1xuICAgIG1haW5faXRlbS5jbGFzc0xpc3QuYWRkKCdtYWluX19ibG9jay0tZGlzYWJsZScpO1xuICB9XG4gIGxldCBtYWluX2l0ZW1fc2hvdyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoaXRlbV9jbGFzcyk7XG4gIGlmIChtYWluX2l0ZW1fc2hvdy5sZW5ndGggPiAwKSB7XG4gICAgbWFpbl9pdGVtX3Nob3dbMF0uY2xhc3NMaXN0LnJlbW92ZSgnbWFpbl9fYmxvY2stLWRpc2FibGUnKTtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIHN3aXRjaF9tYWluX2Jsb2NrKCl7XG4gIGlmICh0aGlzLml0ZW1fY29udHJvbC5jbGFzc0xpc3QuY29udGFpbnMoJ2J1dHRvbnMtY29udHJvbF9faXRlbS0tZW5hYmxlJyk9PT1mYWxzZSkge1xuICAgIGRpc2FibGVfbWFpbl9ibG9jayh0aGlzLml0ZW1fY29udHJvbCwgdGhpcy5pdGVtX2NsYXNzKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRfYnV0dG9uX2hhbmRsZXIoKSB7XG4gIC8vIGJ1dHRvbi1iYWxhbmNlXG4gIGxldCBidXR0b25fYmFsYW5jZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2J1dHRvbi1iYWxhbmNlJyk7XG4gIGlmIChidXR0b25fYmFsYW5jZS5sZW5ndGggPiAwKSB7XG4gICAgYnV0dG9uX2JhbGFuY2VbMF0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB7XG4gICAgICBoYW5kbGVFdmVudDogc3dpdGNoX3RkLFxuICAgICAgYnV0dG9uOiBidXR0b25fYmFsYW5jZVswXSxcbiAgICAgIHRkX2NsYXNzOiAndGQtYmFsYW5jZScsXG4gICAgfSk7XG4gIH1cblxuICAvLyBidXR0b24tYXJwdVxuICBsZXQgYnV0dG9uX2FycHUgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdidXR0b24tYXJwdScpO1xuICBpZiAoYnV0dG9uX2FycHUubGVuZ3RoID4gMCkge1xuICAgIGJ1dHRvbl9hcnB1WzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywge1xuICAgICAgaGFuZGxlRXZlbnQ6IHN3aXRjaF90ZCxcbiAgICAgIGJ1dHRvbjogYnV0dG9uX2FycHVbMF0sXG4gICAgICB0ZF9jbGFzczogJ3RkLWFycHUnLFxuICAgIH0pO1xuICB9XG5cbiAgLy8gYnV0dG9uLWFjdGl2ZS11c2VyXG4gIGxldCBidXR0b25fYWN0aXZlX3VzZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdidXR0b24tYWN0aXZlLXVzZXInKTtcbiAgaWYgKGJ1dHRvbl9hY3RpdmVfdXNlci5sZW5ndGggPiAwKSB7XG4gICAgYnV0dG9uX2FjdGl2ZV91c2VyWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywge1xuICAgICAgaGFuZGxlRXZlbnQ6IHN3aXRjaF90ZCxcbiAgICAgIGJ1dHRvbjogYnV0dG9uX2FjdGl2ZV91c2VyWzBdLFxuICAgICAgdGRfY2xhc3M6ICd0ZC1hY3RpdmUtdXNlcicsXG4gICAgfSk7XG4gIH1cblxuICAvLyBidXR0b24tYXZnLWJhbGFuY2UtYWN0aXZlXG4gIGxldCBidXR0b25fYXZnX2JhbGFuY2VfYWN0aXZlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYnV0dG9uLWF2Zy1iYWxhbmNlLWFjdGl2ZScpO1xuICBpZiAoYnV0dG9uX2F2Z19iYWxhbmNlX2FjdGl2ZS5sZW5ndGggPiAwKSB7XG4gICAgYnV0dG9uX2F2Z19iYWxhbmNlX2FjdGl2ZVswXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHtcbiAgICAgIGhhbmRsZUV2ZW50OiBzd2l0Y2hfdGQsXG4gICAgICBidXR0b246IGJ1dHRvbl9hdmdfYmFsYW5jZV9hY3RpdmVbMF0sXG4gICAgICB0ZF9jbGFzczogJ3RkLWF2Zy1iYWxhbmNlLWFjdGl2ZScsXG4gICAgfSk7XG4gIH1cbiAgLy8gYnV0dG9uLWF2Zy1iYWxhbmNlLWFsbFxuICBsZXQgYnV0dG9uX2F2Z19iYWxhbmNlX2FsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2J1dHRvbi1hdmctYmFsYW5jZS1hbGwnKTtcbiAgaWYgKGJ1dHRvbl9hdmdfYmFsYW5jZV9hbGwubGVuZ3RoID4gMCkge1xuICAgIGJ1dHRvbl9hdmdfYmFsYW5jZV9hbGxbMF0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB7XG4gICAgICBoYW5kbGVFdmVudDogc3dpdGNoX3RkLFxuICAgICAgYnV0dG9uOiBidXR0b25fYXZnX2JhbGFuY2VfYWxsWzBdLFxuICAgICAgdGRfY2xhc3M6ICd0ZC1hdmctYmFsYW5jZS1hbGwnLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRfbGVmdF9tZW51X2hhbmRsZXIoKSB7XG4gIC8vIHNob3ctdGFibGVcbiAgbGV0IG1haW5fc2hvd190YWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3Nob3ctdGFibGUnKTtcbiAgaWYgKG1haW5fc2hvd190YWJsZS5sZW5ndGggPiAwKSB7XG4gICAgbWFpbl9zaG93X3RhYmxlWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywge1xuICAgICAgaGFuZGxlRXZlbnQ6IHN3aXRjaF9tYWluX2Jsb2NrLFxuICAgICAgaXRlbV9jb250cm9sOiBtYWluX3Nob3dfdGFibGVbMF0sXG4gICAgICBpdGVtX2NsYXNzOiAnbWFpbl9fdGFibGUnLFxuICAgIH0pO1xuICB9XG5cbiAgbGV0IHNob3dfZ3JhcGhfcGF5cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3Nob3ctZ3JhcGgtcGF5cycpO1xuICBpZiAoc2hvd19ncmFwaF9wYXlzLmxlbmd0aCA+IDApIHtcbiAgICBzaG93X2dyYXBoX3BheXNbMF0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB7XG4gICAgICBoYW5kbGVFdmVudDogc3dpdGNoX21haW5fYmxvY2ssXG4gICAgICBpdGVtX2NvbnRyb2w6IHNob3dfZ3JhcGhfcGF5c1swXSxcbiAgICAgIGl0ZW1fY2xhc3M6ICdtYWluX19ncmFwaC1wYXlzJyxcbiAgICB9KTtcbiAgfVxuXG4gIGxldCBzaG93X2dyYXBoX2NvdW50X3BheXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzaG93LWdyYXBoLWNvdW50LXBheXMnKTtcbiAgaWYgKHNob3dfZ3JhcGhfY291bnRfcGF5cy5sZW5ndGggPiAwKSB7XG4gICAgc2hvd19ncmFwaF9jb3VudF9wYXlzWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywge1xuICAgICAgaGFuZGxlRXZlbnQ6IHN3aXRjaF9tYWluX2Jsb2NrLFxuICAgICAgaXRlbV9jb250cm9sOiBzaG93X2dyYXBoX2NvdW50X3BheXNbMF0sXG4gICAgICBpdGVtX2NsYXNzOiAnbWFpbl9fZ3JhcGgtY291bnQtcGF5cycsXG4gICAgfSk7XG4gIH1cblxuICBsZXQgc2hvd19ncmFwaF9iYWxhbmNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2hvdy1ncmFwaC1iYWxhbmNlJyk7XG4gIGlmIChzaG93X2dyYXBoX2JhbGFuY2UubGVuZ3RoID4gMCkge1xuICAgIHNob3dfZ3JhcGhfYmFsYW5jZVswXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHtcbiAgICAgIGhhbmRsZUV2ZW50OiBzd2l0Y2hfbWFpbl9ibG9jayxcbiAgICAgIGl0ZW1fY29udHJvbDogc2hvd19ncmFwaF9iYWxhbmNlWzBdLFxuICAgICAgaXRlbV9jbGFzczogJ21haW5fX2dyYXBoLWJhbGFuY2UnLFxuICAgIH0pO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdXRtX3BheXMuanMiLCJmdW5jdGlvbiBzaG93X2Ryb3Bkb3duX21lbnUoKSB7XG4gIGxldCBkcm9wZG93bl9tZW51ID0gdGhpcy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdidXR0b24tZHJvcGRvd25fX21lbnUnKTtcbiAgaWYgKGRyb3Bkb3duX21lbnUubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgZHJvcGRvd25fbWVudVswXS5jbGFzc0xpc3QucmVtb3ZlKCdkcm9wZG93bi0tdW5jb2xsYXBzZScpO1xufVxuXG5mdW5jdGlvbiBoaWRlX2Ryb3Bkb3duX21lbnUoKSB7XG4gIGxldCBkcm9wZG93bl9tZW51ID0gdGhpcy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdidXR0b24tZHJvcGRvd25fX21lbnUnKTtcbiAgaWYgKGRyb3Bkb3duX21lbnUubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgZHJvcGRvd25fbWVudVswXS5jbGFzc0xpc3QuYWRkKCdkcm9wZG93bi0tdW5jb2xsYXBzZScpO1xufVxuXG5leHBvcnQgbGV0IHNldF9idXR0b25fZHJvcGRvd25fbWVudSA9ICgpID0+IHtcbiAgbGV0IGRyb3Bkb3duX21lbnVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYnV0dG9uLWRyb3Bkb3duJyk7XG4gIGlmIChkcm9wZG93bl9tZW51cy5sZW5ndGggPiAwKSB7XG4gICAgZm9yIChsZXQgZHJvcGRvd25fbWVudSBvZiBkcm9wZG93bl9tZW51cykge1xuICAgICAgZHJvcGRvd25fbWVudS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBzaG93X2Ryb3Bkb3duX21lbnUuYmluZChkcm9wZG93bl9tZW51KSk7XG4gICAgICBkcm9wZG93bl9tZW51LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgaGlkZV9kcm9wZG93bl9tZW51LmJpbmQoZHJvcGRvd25fbWVudSkpO1xuICAgIH1cbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2J1dHRvbl9kcm9wZG93bi5qcyJdLCJzb3VyY2VSb290IjoiIn0=